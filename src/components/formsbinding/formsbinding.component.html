<div>
    <h1>formulario con binding</h1>
    <h2 style="color: green;">{{mensaje}}</h2>
    <!-- El formulario debe tener un id de angular
    indicando como valor ngForm -->
    <form #userForm="ngForm" (ngSubmit)="recibirDatos()">
        <!-- Los controles de formulario deben tener un id de angular
        indicando como valor ngModel.
        para indicar el modelo enlazado al control debemos usar
        la siguiente sintaxis [(ngModel)]="modelo" -->
        <label>Nombre: </label>
        <input type="text" name="cajanombre"
            #cajanombre="ngModel"
            [(ngModel)]="user.nombre" required/>

        <span style="color: red" 
        *ngIf="cajanombre.valid == false && cajanombre.touched">
        El nombre es obligatorio</span>
        <br>

        <label>Apellidos: </label>
        <input type="text" name="cajaapellidos"
        #cajaapellidos="ngModel"
        [(ngModel)]="user.apellidos"
        pattern="^[A-Z]{1}[a-z]{2,}"/>

        <span style="color: red" 
        *ngIf="cajaapellidos.valid == false && cajaapellidos.touched">
        El apellido debe empezar por mayuc y tener min 3 caracteres</span>
        <br>

        <label>Edad: </label>
        <input type="number" name="cajaedad"
        #cajaedad="ngModel"
        [(ngModel)]="user.edad"/>
        <br>

        <button [disabled]="!userForm.valid">Enviar</button>
    </form>

    <h2 style="color: blueviolet">
        Nombre: {{user.nombre}}
    </h2>
    <h2 style="color: blueviolet">
        Apellidos: {{user.apellidos}}
    </h2>
    <h2 style="color: blueviolet">
        Edad: {{user.edad}}
    </h2>
</div>